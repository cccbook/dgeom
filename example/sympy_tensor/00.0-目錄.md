# SymPy 張量運算實戰指南：從入門到廣義相對論
# (SymPy Tensor Calculus: From Basics to General Relativity)

## 目錄 (Table of Contents)

### 第一章：前言與環境準備 (Introduction & Setup)
1.1 **SymPy 張量模組簡介**
   - 符號計算 vs 數值計算（SymPy vs NumPy）
   - 張量模組的兩大支柱：`tensor.tensor` (抽象張量) 與 `tensor.array` (陣列張量)
1.2 **環境安裝與基礎配置**
   - 安裝 SymPy
   - 標準引入慣例 (`from sympy.tensor.tensor import ...`)
   - Jupyter Notebook 的數學顯示設定 (`init_printing`)

### 第二章：基礎指標系統 (The Indexed System)
*本章介紹 SymPy 最底層的指標物件，適合理解數據結構，但尚未進入幾何張量。*
2.1 **IndexedBase 與 Idx**
   - 定義基底符號 (`IndexedBase`)
   - 定義指標範圍與維度 (`Idx`)
2.2 **基本運算**
   - 賦值與存取元素
   - 簡單的求和運算 (`Sum`)

### 第三章：抽象張量演算 (Abstract Tensor Calculus)
*本章為核心內容，介紹不依賴具體座標系的張量運算（Penrose abstract index notation）。*
3.1 **定義張量空間與指標類型 (`TensorIndexType`)**
   - 歐幾里得空間與洛倫茲空間
   - 定義指標符號 (`TensorIndex`)
   - 虛設指標 (Dummy indices) 與自由指標 (Free indices)
3.2 **定義張量實體 (`TensorHead`)**
   - 建立純量、向量與高階張量
   - 張量的對稱性屬性 (`comm` 對易性)
3.3 **張量代數運算**
   - 張量加法與乘法
   - **愛因斯坦求和約定 (Einstein Summation Convention)**
   - 張量縮併 (Contraction)
3.4 **度規張量 (The Metric Tensor)**
   - 度規的定義與性質
   - 指標的升降 (Raising and Lowering Indices)
   - 自動度規縮併與簡化

### 第四章：張量對稱性與標準化 (Symmetries & Canonicalization)
4.1 **定義對稱性 (`TensorSymmetry`)**
   - 全對稱 (Fully Symmetric)
   - 全反對稱 (Fully Antisymmetric)
   - 混合對稱性 (例如黎曼張量的對稱性)
4.2 **張量表達式的標準化**
   - 使用 `.doit()` 與 `canonicalize()`
   - 處理 Levi-Civita 符號 ($\epsilon_{ijk}$)
   - 簡化複雜的縮併式子

### 第五章：N 維陣列與座標表示 (N-dimensional Arrays & Explicit Components)
*本章介紹如何將抽象張量落實到具體的數值或函數陣列中。*
5.1 **SymPy 的 Array 模組**
   - `ImmutableDenseNDimArray` 與 `MutableDenseNDimArray`
   - 建立矩陣與高維陣列
5.2 **張量積與縮併 (Array Operations)**
   - `tensorproduct` (外積)
   - `tensorcontraction` (內積/縮併)
5.3 **陣列導數 (Array Derivatives)**
   - `derive_by_array`: 對張量進行偏微分
   - 雅可比矩陣 (Jacobian) 與黑塞矩陣 (Hessian) 的計算

### 第六章：進階應用——廣義相對論 (Advanced Application: General Relativity)
*整合上述知識，進行實際的物理計算。*
6.1 **座標系與度規設定**
   - 定義座標變數 (如球座標 $r, \theta, \phi$)
   - 定義具體度規矩陣 $g_{\mu\nu}$
6.2 **克里斯多福符號 (Christoffel Symbols)**
   - 計算第一類與第二類克里斯多福符號
6.3 **曲率張量計算**
   - 黎曼曲率張量 (Riemann Tensor)
   - 里奇張量 (Ricci Tensor) 與里奇純量 (Ricci Scalar)
   - 愛因斯坦張量 (Einstein Tensor)
6.4 **實戰範例：史瓦西度規 (Schwarzschild Metric)**
   - 從零開始計算史瓦西黑洞的場方程式解

### 第七章：與其他庫的協作 (Interoperability)
7.1 **SymPy 轉換至 NumPy**
   - `lambdify` 的使用技巧
   - 數值化張量函數以進行模擬
7.2 **常見錯誤排除與效能優化**
   - 避免過度展開 (Expansion)
   - 處理指標不匹配錯誤 (IndexError)

### 附錄 (Appendix)
A.1 張量符號速查表
A.2 SymPy 版本差異說明
